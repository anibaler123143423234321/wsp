/* Sidebar responsive container */
.sidebar-responsive-container {
  display: flex;
  flex-direction: row;
  width: 620px;
  min-width: 170px;
  max-width: 800px;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: visible;
}

/* Estado colapsado: LeftSidebar 90px + ConversationList 360px = 450px */
.sidebar-responsive-container.collapsed {
  width: 450px;
}

/* En 1400px: ancho completo (ambos sidebars) */
@media (max-width: 1400px) {
  .sidebar-responsive-container {
    width: 620px;
    max-width: 620px;
  }
}

/* En 1280px: más compacto para tablets */
@media (max-width: 1280px) {
  .sidebar-responsive-container {
    width: 340px;
    max-width: 340px;
  }
}

/* En 1024px: mantener para tablets pequeñas */
@media (max-width: 1024px) {
  .sidebar-responsive-container {
    width: 340px;
    max-width: 340px;
  }
}

/* Barra de redimensionamiento */
.sidebar-resize-handle {
  position: absolute;
  right: 0;
  top: 0;
  width: 4px;
  height: 100%;
  cursor: col-resize;
  background-color: transparent;
  transition: background-color 0.2s ease;
  z-index: 10;
}

.sidebar-resize-handle:hover {
  background-color: rgba(239, 68, 68, 0.3);
}

.sidebar-resize-handle:active {
  background-color: rgba(239, 68, 68, 0.5);
}

/* Ocultar en mobile */
@media (max-width: 768px) {
  .sidebar-resize-handle {
    display: none;
  }
}

/* Modo compacto - reglas para diferentes estados */
@media (min-width: 769px) {

  /* Modo compacto + colapsado: menos ancho (LeftSidebar 90px + ConversationList ~80px) */
  .sidebar-responsive-container.compact-mode.collapsed {
    overflow-x: hidden !important;
    width: 8% !important;
    min-width: 140px !important;
    max-width: 160px !important;
  }

  /* Modo compacto + expandido: más ancho para el menú (LeftSidebar 180px + ConversationList ~80px) */
  .sidebar-responsive-container.compact-mode:not(.collapsed) {
    overflow-x: hidden !important;
    width: 15% !important;
    min-width: 200px !important;
    max-width: 240px !important;
  }
}